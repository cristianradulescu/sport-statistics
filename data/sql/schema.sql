CREATE TABLE competition (id BIGINT AUTO_INCREMENT, country_id BIGINT NOT NULL, sport_id BIGINT NOT NULL, competition VARCHAR(255) NOT NULL, table_id INT, importance MEDIUMINT DEFAULT 1, active TINYINT(1) DEFAULT '0' NOT NULL, statistics_updated_at DATETIME, fixtures_updated_at DATETIME, INDEX country_id_idx (country_id), INDEX sport_id_idx (sport_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE country (id BIGINT AUTO_INCREMENT, country VARCHAR(255) NOT NULL, active TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE fixture (id BIGINT AUTO_INCREMENT, competition_id BIGINT NOT NULL, round BIGINT NOT NULL, game VARCHAR(255) NOT NULL, final_time VARCHAR(255) NOT NULL, half_time VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX competition_id_idx (competition_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sport (id BIGINT AUTO_INCREMENT, sport VARCHAR(255) NOT NULL, active TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE statistics (id BIGINT AUTO_INCREMENT, competition_id BIGINT NOT NULL, position INT NOT NULL, team VARCHAR(255) NOT NULL, total_games_played BIGINT, total_games_won BIGINT, total_games_won_overtime BIGINT, total_games_won_afterpenalty BIGINT, total_games_draw BIGINT, total_games_lost BIGINT, total_games_lost_overtime BIGINT, total_games_lost_afterpenalty BIGINT, total_goals VARCHAR(255), goal_diff BIGINT, total_game_points_for VARCHAR(255), total_points BIGINT, home_games_played BIGINT, home_games_won BIGINT, home_games_won_overtime BIGINT, home_games_won_afterpenalty BIGINT, home_games_draw BIGINT, home_games_lost BIGINT, home_games_lost_overtime BIGINT, home_games_lost_afterpenalty BIGINT, home_goals VARCHAR(255), home_game_points_for VARCHAR(255), home_points BIGINT, away_games_played BIGINT, away_games_won BIGINT, away_games_won_overtime BIGINT, away_games_won_afterpenalty BIGINT, away_games_draw BIGINT, away_games_lost BIGINT, away_games_lost_overtime BIGINT, away_games_lost_afterpenalty BIGINT, away_goals VARCHAR(255), away_game_points_for VARCHAR(255), away_points BIGINT, over BIGINT, under BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX competition_id_idx (competition_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE competition ADD CONSTRAINT competition_sport_id_sport_id FOREIGN KEY (sport_id) REFERENCES sport(id) ON DELETE CASCADE;
ALTER TABLE competition ADD CONSTRAINT competition_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) ON DELETE CASCADE;
ALTER TABLE fixture ADD CONSTRAINT fixture_competition_id_competition_id FOREIGN KEY (competition_id) REFERENCES competition(id) ON DELETE CASCADE;
ALTER TABLE statistics ADD CONSTRAINT statistics_competition_id_competition_id FOREIGN KEY (competition_id) REFERENCES competition(id) ON DELETE CASCADE;
